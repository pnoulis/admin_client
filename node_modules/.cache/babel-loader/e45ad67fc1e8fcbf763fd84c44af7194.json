{"ast":null,"code":"var _jsxFileName = \"/home/pavlos/Office/projects/new/admin-client/src/components/Products/Products.jsx\",\n    _s = $RefreshSig$();\n\nimport backend from \"lib/backend\";\nimport { useEffect, useState } from \"react\";\nimport { useBackend, renderStatus } from \"lib/hooks\";\nimport { PANEL_STORE } from \"lib/stores\";\nimport { Table } from \"components/Tables\";\nimport styled from \"styled-components\";\nimport { FlexibleField_0 as TextField, ImageField, SelectionField } from \"components/Fields\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  usePanelContext\n} = PANEL_STORE,\n      tags = backend.get({\n  url: \"/tags\"\n}),\n      pus = [\"euro\", \"pound\", \"dollar\"],\n      mus = [\"kg\", \"gr\", \"lt\"],\n      CELL_MAP = {\n  pid: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"pid\",\n    disabled: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this),\n  title: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"title\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 11\n  }, this),\n  description: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"description\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 17\n  }, this),\n  supplier: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"supplier\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 14\n  }, this),\n  sid: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"sid\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this),\n  wpu: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"wpu\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this),\n  ppu: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"ppu\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this),\n  tp: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"tp\",\n    disabled: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 8\n  }, this),\n  stock: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"stock\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 11\n  }, this),\n  vstock: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"vstock\",\n    disabled: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this),\n  inStock: /*#__PURE__*/_jsxDEV(TextField, {\n    name: \"inStock\",\n    disabled: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 13\n  }, this),\n  img: /*#__PURE__*/_jsxDEV(ImageField, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this),\n  tags: /*#__PURE__*/_jsxDEV(SelectionField, {\n    list: tags,\n    multiple: true,\n    name: \"tags\",\n    each: \"tag\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 10\n  }, this),\n  mu: /*#__PURE__*/_jsxDEV(SelectionField, {\n    list: mus,\n    multiple: false,\n    name: \"mu\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 8\n  }, this),\n  pu: /*#__PURE__*/_jsxDEV(SelectionField, {\n    list: pus,\n    multiple: false,\n    name: \"pu\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 8\n  }, this)\n},\n      PRODUCT_SCHEMA = {\n  toggled: false,\n  edit: false,\n  new: true,\n  fieldErrors: {},\n  fields: {\n    pid: \"\",\n    title: \"\",\n    mu: \"\",\n    pu: \"\",\n    img: {},\n    tags: [],\n    description: \"\",\n    supplier: \"\",\n    sid: \"\",\n    wpu: 0,\n    ppu: 0,\n    tp: 0,\n    stock: 0,\n    vstock: 0,\n    inStock: false,\n    oldImg: \"\"\n  }\n},\n      Wrapper = styled.article`\nwidth: 100%;\nheight: 100%;\ndisplay: flex;\njustify-content: center;\nalign-items: items;\nfont-size: var(--font-root-regular);\n`,\n      Products = () => {\n  _s();\n\n  const {\n    data,\n    setPanel\n  } = usePanelContext(),\n        {\n    setReq,\n    status,\n    res\n  } = useBackend();\n  useEffect(() => {\n    setReq({\n      method: \"get\",\n      url: \"/products\"\n    });\n  }, []);\n  useEffect(() => {\n    if (!res) return null;\n\n    if (res.ok) {\n      setTimeout(() => setPanel(\"setData\", res.payload), 1000);\n    }\n  }, [res]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [status && renderStatus(status), data && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"data is here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}; // if (!panel.products.table.length) return null;\n// return <Table table={{\n//   body: panel.products.table,\n//   headers: Object.keys(CELL_MAP),\n//   extras: [],\n//   cellMap: CELL_MAP,\n//   formSchema: PRODUCT_SCHEMA,\n// }}/>;\n\n\n_s(Products, \"sQlFKrN3BU5/qR/HGNu9KAsecXI=\", false, function () {\n  return [usePanelContext, useBackend];\n});\n\nexport default Products;","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Products/Products.jsx"],"names":["backend","useEffect","useState","useBackend","renderStatus","PANEL_STORE","Table","styled","FlexibleField_0","TextField","ImageField","SelectionField","usePanelContext","tags","get","url","pus","mus","CELL_MAP","pid","title","description","supplier","sid","wpu","ppu","tp","stock","vstock","inStock","img","mu","pu","PRODUCT_SCHEMA","toggled","edit","new","fieldErrors","fields","oldImg","Wrapper","article","Products","data","setPanel","setReq","status","res","method","ok","setTimeout","payload"],"mappings":"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","sourcesContent":["import backend from \"lib/backend\";\nimport {useEffect, useState} from \"react\";\nimport {useBackend, renderStatus} from \"lib/hooks\";\nimport {PANEL_STORE} from \"lib/stores\";\nimport {Table} from \"components/Tables\";\nimport styled from \"styled-components\";\nimport {FlexibleField_0 as TextField, ImageField, SelectionField} from \"components/Fields\";\n\nconst\n{usePanelContext} = PANEL_STORE,\ntags = backend.get({url: \"/tags\"}),\npus = [\n  \"euro\",\n  \"pound\",\n  \"dollar\"\n],\nmus = [\n  \"kg\",\n  \"gr\",\n  \"lt\",\n],\nCELL_MAP = {\n  pid: (<TextField name=\"pid\" disabled={true}/>),\n  title: (<TextField name=\"title\"/>),\n  description: (<TextField name=\"description\"/>),\n  supplier: (<TextField name=\"supplier\"/>),\n  sid: (<TextField name=\"sid\"/>),\n  wpu: (<TextField name=\"wpu\"/>),\n  ppu: (<TextField name=\"ppu\"/>),\n  tp: (<TextField name=\"tp\" disabled={true}/>),\n  stock: (<TextField name=\"stock\"/>),\n  vstock: (<TextField name=\"vstock\" disabled={true}/>),\n  inStock: (<TextField name=\"inStock\" disabled={true}/>),\n  img: (<ImageField/>),\n  tags: (<SelectionField list={tags} multiple={true} name=\"tags\" each=\"tag\"/>),\n  mu: (<SelectionField list={mus} multiple={false} name=\"mu\"/>),\n  pu: (<SelectionField list={pus} multiple={false} name=\"pu\"/>),\n},\nPRODUCT_SCHEMA = {\n  toggled: false,\n  edit: false,\n  new: true,\n  fieldErrors: {},\n  fields: {\n    pid: \"\",\n    title: \"\",\n    mu: \"\",\n    pu: \"\",\n    img: {},\n    tags: [],\n    description: \"\",\n    supplier: \"\",\n    sid: \"\",\n    wpu: 0,\n    ppu: 0,\n    tp: 0,\n    stock: 0,\n    vstock: 0,\n    inStock: false,\n    oldImg: \"\",\n  }\n},\nWrapper = styled.article`\nwidth: 100%;\nheight: 100%;\ndisplay: flex;\njustify-content: center;\nalign-items: items;\nfont-size: var(--font-root-regular);\n`,\nProducts = () => {\n  const\n  {data, setPanel} = usePanelContext(),\n  {setReq, status, res} = useBackend();\n\n  useEffect(() => {\n    setReq({method: \"get\", url: \"/products\"});\n  },[]);\n\n  useEffect(() => {\n    if (!res) return null;\n    if (res.ok) {\n      setTimeout(() => setPanel(\"setData\", res.payload), 1000);\n    }\n  }, [res]);\n\n  return (\n    <Wrapper>\n      {status && renderStatus(status)}\n      {data && <p>data is here</p>}\n    </Wrapper>\n  );\n};\n\n// if (!panel.products.table.length) return null;\n// return <Table table={{\n//   body: panel.products.table,\n//   headers: Object.keys(CELL_MAP),\n//   extras: [],\n//   cellMap: CELL_MAP,\n//   formSchema: PRODUCT_SCHEMA,\n// }}/>;\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}