{"ast":null,"code":"import _slicedToArray from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{validateInput}from\"lib/input\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var isFormReady=function isFormReady(fields){var fieldErrors={};Object.keys(fields).forEach(function(field){fieldErrors[field]=validateInput(field,fields[field]);});if(\"confirmPassword\"in fields&&fields.confirmPassword!==fields.password){fieldErrors.confirmPassword=\"passwords do not match\";}return{ready:!Object.values(fieldErrors).some(function(el){return el;}),fieldErrors:fieldErrors};},confirmPassword=function confirmPassword(confirm,password){if(!confirm||!password)return false;if(confirm!==password)return true;},usePassword=function usePassword(type,style){var images=[\"/close_fill_minimal.svg\",\"/open_fill_black_minimal.svg\"],_useState=useState(false),_useState2=_slicedToArray(_useState,2),reveal=_useState2[0],setReveal=_useState2[1];if(type!==\"password\")return{reveal:false,password:null};var password=/*#__PURE__*/_jsx(\"div\",{className:style,onClick:function onClick(){return setReveal(!reveal);},children:/*#__PURE__*/_jsx(\"img\",{src:reveal?images[0]:images[1],alt:\"show-hide-icon\"})});return{reveal:reveal,password:password};},formStyleReducer=function formStyleReducer(params){var config={};if(\"edit\"in params&&!params.edit)return config;if(params.password)return config.password=true;if(params.edit)config.edit=true;if(params.focused||params.input)config.focused=true;if(params.input&&params.error)config.invalid=true;if(!config.invalid&&params.input)config.valid=true;if(params.error)config.error=true;return config;},ifErrors=function ifErrors(fieldErrors){var f=[];for(var _i=0,_Object$values=Object.values(fieldErrors);_i<_Object$values.length;_i++){var err=_Object$values[_i];err&&f.push(err);}return f.length?f:null;};export var FORM_UTILS={ifErrors:ifErrors,isFormReady:isFormReady,confirmPassword:confirmPassword,usePassword:usePassword,formStyleReducer:formStyleReducer};","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/utils/forms.jsx"],"names":["validateInput","useState","isFormReady","fields","fieldErrors","Object","keys","forEach","field","confirmPassword","password","ready","values","some","el","confirm","usePassword","type","style","images","reveal","setReveal","formStyleReducer","params","config","edit","focused","input","error","invalid","valid","ifErrors","f","err","push","length","FORM_UTILS"],"mappings":"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","sourcesContent":["import {validateInput} from \"lib/input\";\nimport {useState} from \"react\";\n\nconst\nisFormReady = (fields) => {\n  let fieldErrors = {};\n  Object.keys(fields).forEach(field => {\n    fieldErrors[field] = validateInput(field, fields[field]);\n  });\n\n\n  if (\"confirmPassword\" in fields &&\n      fields.confirmPassword !== fields.password) {\n    fieldErrors.confirmPassword = \"passwords do not match\";\n  }\n\n  return {ready: !Object.values(fieldErrors).some(el => el), fieldErrors};\n},\nconfirmPassword = (confirm, password) => {\n  if (!confirm || !password) return false;\n  if (confirm !== password) return true;\n},\nusePassword = (type, style) => {\n  const\n  images = [\"/close_fill_minimal.svg\",\n            \"/open_fill_black_minimal.svg\"],\n  [reveal, setReveal] = useState(false);\n\n  if (type !== \"password\") return {reveal: false, password: null};\n  const\n  password = (\n    <div className={style} onClick={() => setReveal(!reveal)}>\n      <img\n        src={reveal ? images[0] : images[1]}\n        alt=\"show-hide-icon\"\n      />\n    </div>\n  );\n\n  return {\n    reveal,\n    password,\n  };\n},\nformStyleReducer = (params) => {\n  let config = {};\n  if (\"edit\" in params && !params.edit) return config;\n  if (params.password) return config.password = true;\n  if (params.edit) config.edit = true;\n  if (params.focused || params.input) config.focused = true;\n  if (params.input && params.error) config.invalid = true;\n  if (!config.invalid && params.input) config.valid = true;\n  if (params.error) config.error = true;\n  return config;\n},\nifErrors = fieldErrors => {\n  const f = [];\n  for (const err of Object.values(fieldErrors)) {\n    err && f.push(err);\n  }\n  return f.length ? f : null;\n};\n\nexport const FORM_UTILS = {\n  ifErrors,\n  isFormReady,\n  confirmPassword,\n  usePassword,\n  formStyleReducer,\n};\n"]},"metadata":{},"sourceType":"module"}