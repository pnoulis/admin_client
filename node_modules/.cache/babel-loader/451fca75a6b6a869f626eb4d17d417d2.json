{"ast":null,"code":"var _jsxFileName = \"/home/pavlos/Office/projects/new/admin-client/src/components/Fields/FlexibleFields.jsx\",\n    _s = $RefreshSig$();\n\nimport { decode } from \"html-entities\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { FORM_STORE } from \"lib/stores\";\nimport { useStyle, useFocus } from \"lib/hooks\";\nimport style from \"./styles/flexibleField_0.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  useFormContext\n} = FORM_STORE;\nexport function FlexibleField_0({\n  name,\n  disabled\n}) {\n  _s();\n\n  const {\n    fields,\n    edit,\n    setForm\n  } = useFormContext(),\n        thisRef = useRef();\n\n  function handleInput(e) {\n    let a = \"\";\n\n    if (!e.target.innerHTML) {\n      console.log(\"itoseuthoe usnot \");\n    }\n\n    setForm(\"setInput\", name, decode(e.target.innerHTML));\n  }\n\n  useEffect(() => {\n    if (disabled) return;\n    const selection = window.getSelection();\n    if (fields[name]) selection.collapse(thisRef.current, 1);\n  }, [fields[name]]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.textField,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      ref: thisRef,\n      className: style.editable,\n      contentEditable: disabled ? false : edit,\n      onInput: handleInput,\n      dangerouslySetInnerHTML: {\n        __html: fields[name]\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FlexibleField_0, \"3yxE3jBvn0/XHAiEVC0X3M2EswY=\", false, function () {\n  return [useFormContext];\n});\n\n_c = FlexibleField_0;\n\nvar _c;\n\n$RefreshReg$(_c, \"FlexibleField_0\");","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Fields/FlexibleFields.jsx"],"names":["decode","useRef","useEffect","useState","FORM_STORE","useStyle","useFocus","style","useFormContext","FlexibleField_0","name","disabled","fields","edit","setForm","thisRef","handleInput","e","a","target","innerHTML","console","log","selection","window","getSelection","collapse","current","textField","editable","__html"],"mappings":";;;AAAA,SAAQA,MAAR,QAAqB,eAArB;AACA,SAAQC,MAAR,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAAQC,UAAR,QAAyB,YAAzB;AACA,SAAQC,QAAR,EAAkBC,QAAlB,QAAiC,WAAjC;AACA,OAAOC,KAAP,MAAkB,sCAAlB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAmBJ,UAAzB;AAGA,OAAO,SAASK,eAAT,CAAyB;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAzB,EAA2C;AAAA;;AAChD,QACA;AAACC,IAAAA,MAAD;AAASC,IAAAA,IAAT;AAAeC,IAAAA;AAAf,MAA0BN,cAAc,EADxC;AAAA,QAEAO,OAAO,GAAGd,MAAM,EAFhB;;AAIA,WAASe,WAAT,CAAqBC,CAArB,EAAwB;AACtB,QAAIC,CAAC,GAAG,EAAR;;AACA,QAAI,CAACD,CAAC,CAACE,MAAF,CAASC,SAAd,EAAyB;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;;AACDR,IAAAA,OAAO,CAAC,UAAD,EAAaJ,IAAb,EAAmBV,MAAM,CAACiB,CAAC,CAACE,MAAF,CAASC,SAAV,CAAzB,CAAP;AACD;;AAEDlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,QAAJ,EAAc;AACd,UAAMY,SAAS,GAAGC,MAAM,CAACC,YAAP,EAAlB;AACA,QAAIb,MAAM,CAACF,IAAD,CAAV,EAAkBa,SAAS,CAACG,QAAV,CAAmBX,OAAO,CAACY,OAA3B,EAAoC,CAApC;AACnB,GAJQ,EAIN,CAACf,MAAM,CAACF,IAAD,CAAP,CAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAEH,KAAK,CAACqB,SAAtB;AAAA,2BACE;AACE,MAAA,GAAG,EAAEb,OADP;AAEE,MAAA,SAAS,EAAER,KAAK,CAACsB,QAFnB;AAGE,MAAA,eAAe,EAAElB,QAAQ,GAAG,KAAH,GAAWE,IAHtC;AAIE,MAAA,OAAO,EAAEG,WAJX;AAKE,MAAA,uBAAuB,EAAE;AAACc,QAAAA,MAAM,EAAElB,MAAM,CAACF,IAAD;AAAf;AAL3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD;;GA/BeD,e;UAEYD,c;;;KAFZC,e","sourcesContent":["import {decode} from \"html-entities\";\nimport {useRef, useEffect, useState} from \"react\";\nimport {FORM_STORE} from \"lib/stores\";\nimport {useStyle, useFocus} from \"lib/hooks\";\nimport style from \"./styles/flexibleField_0.module.scss\";\nconst {useFormContext} = FORM_STORE;\n\n\nexport function FlexibleField_0({name, disabled}) {\n  const\n  {fields, edit, setForm} = useFormContext(),\n  thisRef = useRef();\n\n  function handleInput(e) {\n    let a = \"\";\n    if (!e.target.innerHTML) {\n      console.log(\"itoseuthoe usnot \");\n    }\n    setForm(\"setInput\", name, decode(e.target.innerHTML));\n  }\n\n  useEffect(() => {\n    if (disabled) return;\n    const selection = window.getSelection();\n    if (fields[name]) selection.collapse(thisRef.current, 1);\n  }, [fields[name]]);\n\n  return (\n    <div className={style.textField}>\n      <span\n        ref={thisRef}\n        className={style.editable}\n        contentEditable={disabled ? false : edit}\n        onInput={handleInput}\n        dangerouslySetInnerHTML={{__html: fields[name]}}\n      >\n      </span>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}