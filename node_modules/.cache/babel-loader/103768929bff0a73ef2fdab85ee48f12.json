{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useReducer, useContext } from \"react\";\nimport { reduceFields, reduceFieldErrors } from \"lib/input\";\n\nconst ACTIONS = {\n  setErrors: fieldErrors => {\n    return {\n      type: \"SET_ERRORS\",\n      fieldErrors\n    };\n  },\n  setInput: (name, value) => {\n    return {\n      type: \"SET_INPUT\",\n      name,\n      value\n    };\n  },\n  toggle: operation => {\n    return {\n      type: \"TOGGLE\",\n      operation\n    };\n  },\n  edit: () => {\n    return {\n      type: \"EDIT\"\n    };\n  },\n  refreshForm: initialState => {\n    return {\n      type: \"REFRESH_FORM\",\n      initialState\n    };\n  },\n  updateForm: () => {\n    return {\n      type: \"UPDATE_FORM\"\n    };\n  }\n},\n      REDUCER = (state, action) => {\n  switch (action.type) {\n    case \"SET_ERRORS\":\n      return { ...state,\n        fieldErrors: action.fieldErrors,\n        edit: true\n      };\n\n    case \"SET_INPUT\":\n      return { ...state,\n        fields: reduceFields(state.fields, action.name, action.value),\n        fieldErrors: reduceFieldErrors(state.fieldErrors, action.name, action.value)\n      };\n\n    case \"TOGGLE\":\n      return { ...state,\n        toggled: action.operation\n      };\n\n    case \"EDIT\":\n      return { ...state,\n        toggled: \"edit\",\n        edit: !state.edit\n      };\n\n    case \"REFRESH_FORM\":\n      return action.initialState;\n\n    case \"UPDATE_FORM\":\n    default:\n      return state;\n  }\n},\n      useForm = initialState => {\n  _s();\n\n  const [state, dispatch] = useReducer(REDUCER, initialState),\n        proxy = (action, ...payload) => {\n    if (action !== \"toggle\") return dispatch(ACTIONS[action](...payload));\n    if (payload[0] === \"edit\") return dispatch(ACTIONS.edit());\n    if (payload[0] === \"cancel\") return dispatch(ACTIONS.refreshForm(initialState));\n    dispatch(ACTIONS[action](...payload));\n  };\n\n  return {\n    form: state,\n    setForm: proxy\n  };\n},\n      formContext = /*#__PURE__*/React.createContext({\n  form: {},\n  setForm: () => {}\n}),\n      useFormContext = () => {\n  _s2();\n\n  return useContext(formContext);\n},\n      FORM_STORE = {\n  formContext,\n  useFormContext,\n  useForm\n};\n\n_s2(useFormContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_s(useForm, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\nexport { FORM_STORE };","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/stores/forms.js"],"names":["React","useReducer","useContext","reduceFields","reduceFieldErrors","ACTIONS","setErrors","fieldErrors","type","setInput","name","value","toggle","operation","edit","refreshForm","initialState","updateForm","REDUCER","state","action","fields","toggled","useForm","dispatch","proxy","payload","form","setForm","formContext","createContext","useFormContext","FORM_STORE"],"mappings":"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","sourcesContent":["import React, {useReducer, useContext} from \"react\";\nimport {reduceFields, reduceFieldErrors} from \"lib/input\";\n\nconst\nACTIONS = {\n  setErrors: (fieldErrors) => {return {type: \"SET_ERRORS\", fieldErrors};},\n  setInput: (name, value) => {return {type: \"SET_INPUT\", name, value};},\n  toggle: (operation) => {return {type: \"TOGGLE\", operation};},\n  edit: () => {return {type: \"EDIT\"};},\n  refreshForm: (initialState) => {return {type: \"REFRESH_FORM\", initialState};},\n  updateForm: () => {return {type: \"UPDATE_FORM\"};},\n},\nREDUCER = (state, action) => {\n  switch (action.type) {\n  case \"SET_ERRORS\":\n    return {...state, fieldErrors: action.fieldErrors, edit: true};\n  case \"SET_INPUT\":\n    return {\n      ...state,\n      fields: reduceFields(state.fields, action.name, action.value),\n      fieldErrors: reduceFieldErrors(state.fieldErrors, action.name, action.value),\n    };\n  case \"TOGGLE\":\n    return {...state, toggled: action.operation};\n  case \"EDIT\":\n    return {...state, toggled: \"edit\", edit: !state.edit};\n  case \"REFRESH_FORM\":\n    return action.initialState;\n  case \"UPDATE_FORM\":\n  default:\n    return state;\n  }\n},\nuseForm = (initialState) => {\n  const\n  [state, dispatch] = useReducer(REDUCER, initialState),\n  proxy = (action, ...payload) => {\n    if (action !== \"toggle\") return dispatch(ACTIONS[action](...payload));\n    if (payload[0] === \"edit\") return dispatch(ACTIONS.edit());\n    if (payload[0] === \"cancel\") return dispatch(ACTIONS.refreshForm(initialState));\n    dispatch(ACTIONS[action](...payload));\n  };\n\n  return {form: state, setForm: proxy};\n},\nformContext = React.createContext({\n  form: {},\n  setForm: () => {},\n}),\nuseFormContext = () => useContext(formContext),\nFORM_STORE = {\n  formContext,\n  useFormContext,\n  useForm,\n};\nexport {FORM_STORE};\n"]},"metadata":{},"sourceType":"module"}