{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useReducer, useContext } from \"react\";\nimport { reduceFields, reduceFieldErrors } from \"lib/input\";\n\nconst ACTIONS = {\n  setErrors: fieldErrors => {\n    return {\n      type: \"SET_ERRORS\",\n      fieldErrors\n    };\n  },\n  setInput: (name, value) => {\n    return {\n      type: \"SET_INPUT\",\n      name,\n      value\n    };\n  },\n  toggle: operation => {\n    return {\n      type: \"TOGGLE\",\n      operation\n    };\n  },\n  edit: toggle => {\n    return {\n      type: \"EDIT\",\n      toggle\n    };\n  },\n  refreshForm: initialState => {\n    return {\n      type: \"REFRESH_FORM\",\n      initialState\n    };\n  }\n},\n      REDUCER = (state, action) => {\n  switch (action.type) {\n    case \"SET_ERRORS\":\n      return { ...state,\n        fieldErrors: action.fieldErrors,\n        edit: true\n      };\n\n    case \"SET_INPUT\":\n      return { ...state,\n        fields: reduceFields(state.fields, action.name, action.value),\n        fieldErrors: reduceFieldErrors(state.fieldErrors, action.name, action.value)\n      };\n\n    case \"TOGGLE\":\n      return { ...state,\n        toggled: action.operation\n      };\n\n    case \"EDIT\":\n      return { ...state,\n        toggled: action.toggle ? \"edit\" : false,\n        edit: action.toggle\n      };\n\n    case \"REFRESH_FORM\":\n      console.log(action);\n      return action.initialState;\n\n    default:\n      return state;\n  }\n},\n      useForm = initialState => {\n  _s();\n\n  const [state, dispatch] = useReducer(REDUCER, initialState),\n        proxy = (action, ...payload) => dispatch(ACTIONS[action](...payload, initialState));\n\n  return {\n    form: state,\n    setForm: proxy\n  };\n},\n      formContext = /*#__PURE__*/React.createContext({\n  form: {},\n  setForm: () => {}\n}),\n      useFormContext = () => {\n  _s2();\n\n  return useContext(formContext);\n},\n      FORM_STORE = {\n  formContext,\n  useFormContext,\n  useForm\n};\n\n_s2(useFormContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_s(useForm, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\nexport { FORM_STORE };","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/stores/forms.js"],"names":["React","useReducer","useContext","reduceFields","reduceFieldErrors","ACTIONS","setErrors","fieldErrors","type","setInput","name","value","toggle","operation","edit","refreshForm","initialState","REDUCER","state","action","fields","toggled","console","log","useForm","dispatch","proxy","payload","form","setForm","formContext","createContext","useFormContext","FORM_STORE"],"mappings":"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","sourcesContent":["import React, {useReducer, useContext} from \"react\";\nimport {reduceFields, reduceFieldErrors} from \"lib/input\";\n\nconst\nACTIONS = {\n  setErrors: (fieldErrors) => {return {type: \"SET_ERRORS\", fieldErrors};},\n  setInput: (name, value) => {return {type: \"SET_INPUT\", name, value};},\n  toggle: (operation) => {return {type: \"TOGGLE\", operation};},\n  edit: (toggle) => {return {type: \"EDIT\", toggle};},\n  refreshForm: (initialState) => {return {type: \"REFRESH_FORM\", initialState};},\n},\nREDUCER = (state, action) => {\n  switch (action.type) {\n  case \"SET_ERRORS\":\n    return {...state, fieldErrors: action.fieldErrors, edit: true};\n  case \"SET_INPUT\":\n    return {\n      ...state,\n      fields: reduceFields(state.fields, action.name, action.value),\n      fieldErrors: reduceFieldErrors(state.fieldErrors, action.name, action.value),\n    };\n  case \"TOGGLE\":\n    return {...state, toggled: action.operation};\n  case \"EDIT\":\n    return {...state, toggled: action.toggle ? \"edit\" : false, edit: action.toggle};\n  case \"REFRESH_FORM\":\n    console.log(action);\n    return action.initialState;\n  default:\n    return state;\n  }\n},\nuseForm = (initialState) => {\n  const\n  [state, dispatch] = useReducer(REDUCER, initialState),\n  proxy = (action, ...payload) => dispatch(ACTIONS[action](...payload, initialState));\n  return {form: state, setForm: proxy};\n},\nformContext = React.createContext({\n  form: {},\n  setForm: () => {},\n}),\nuseFormContext = () => useContext(formContext),\nFORM_STORE = {\n  formContext,\n  useFormContext,\n  useForm,\n};\nexport {FORM_STORE};\n"]},"metadata":{},"sourceType":"module"}