{"ast":null,"code":"import _slicedToArray from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect,createRef}from\"react\";import{FORM_STORE}from\"lib/stores\";import FormRow from\"./FormRow\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var S={};S.Table=styled.table(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nfont-size: var(--font-size-regular);\\nborder-collapse: collapse;\\nposition: relative;\\nheight: max-content;\\nwidth: max-content;\\n\"])));S.Header=styled.thead(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\"])));S.NewRow=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nbox-sizing: content-box;\\nwidth: min-content;\\npadding: 5px 10px;\\nmargin: auto;\\ncursor: pointer;\\nimg {\\ndisplay: inline-block;\\nwidth: 45px;\\nheight: 45px;\\n}\\n\"])));S.Cell=styled.td(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nfont-size: var(--font-size-regular);\\nletter-spacing: 0.5px;\\npadding: 5px;\\nborder: 2px solid white;\\ntext-align: center;\\nwidth: 100%;\\nmin-width: 70px;\\nheight: 100%;\\n\\n&:hover {\\nbackground-color: white;\\n}\\n\\n\",\" & {\\npadding: 0 5px;\\nbackground-color: initial;\\nfont-size: var(--font-size-large);\\ncolor: white;\\ntext-transform: capitalize;\\n}\\n\\n\\n\"])),S.Header);S.Error=styled.p(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nwidth: max-content;\\nmargin: auto;\\nfont-size: var(--font-size-2large);\\ncolor: var(--color-error);\\npadding: 5px 0;\\nfont-weight: bold;\\n\"])));S.Row=styled.tr(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\nbackground-color: var(--color-grey-phosSilver-4);\\n\\n&:nth-of-type(even) {\\nbackground-color: var(--color-grey-phosSilver-2);\\n}\\n\\n&:hover {\\nbackground-color: var(--color-primary);\\n}\\n\\n\",\" & {\\nbackground-color: var(--color-primary);\\n}\\n\\n\"])),S.Header);export var tableContext=/*#__PURE__*/React.createContext({body:[],headers:[],extra:{},cellMap:{},formSchema:{}}),useTableContext=function useTableContext(){return React.useContext(tableContext);},renderErrors=function renderErrors(errors,length){if(!errors.some(function(el){return!!el;}))return null;return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Cell,{colspan:length+1,children:errors.map(function(err,i){return err&&/*#__PURE__*/_jsx(S.Error,{children:err},i);})})});},Header=function Header(_ref){var header=_ref.header;return/*#__PURE__*/_jsx(S.Header,{children:/*#__PURE__*/_jsx(Row,{children:header.map(function(heading,i){return/*#__PURE__*/_jsx(Cell,{children:heading},i);})})});},Body=function Body(_ref2){var body=_ref2.body;return/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(NewRow,{},0),body.map(function(row,i){return/*#__PURE__*/_jsx(FormRow,{data:row},i+1);})]});},NewRow=function NewRow(){var _useTableContext=useTableContext(),headers=_useTableContext.headers,_useState=useState(false),_useState2=_slicedToArray(_useState,2),view=_useState2[0],setView=_useState2[1];function switchView(e){e&&e.stopPropagation();setView(!view);}if(view)return/*#__PURE__*/_jsx(FormRow,{notify:function notify(toggle){return toggle===\"cancel\"&&switchView();},edit:true});return/*#__PURE__*/_jsx(Row,{span:true,children:/*#__PURE__*/_jsx(S.NewRow,{children:/*#__PURE__*/_jsx(\"img\",{onClick:switchView,src:\"/add_blue.png;\",alt:\"plus-icon\"})})});},Row=function Row(_ref3){var span=_ref3.span,children=_ref3.children;var _useTableContext2=useTableContext(),headers=_useTableContext2.headers;if(span)return/*#__PURE__*/_jsx(S.Row,{children:/*#__PURE__*/_jsx(Cell,{colspan:headers.length+1,children:children})});return/*#__PURE__*/_jsx(S.Row,{children:children});},Cell=function Cell(_ref4){var colspan=_ref4.colspan,padding=_ref4.padding,children=_ref4.children;return/*#__PURE__*/_jsx(S.Cell,{padding:padding,colSpan:colspan||1,children:children});},Table=function Table(_ref5){var table=_ref5.table;return/*#__PURE__*/_jsx(tableContext.Provider,{value:table,children:/*#__PURE__*/_jsxs(S.Table,{children:[/*#__PURE__*/_jsx(Header,{header:table.headers}),/*#__PURE__*/_jsx(Body,{body:table.body})]})});};","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Tables/Table.jsx"],"names":["React","useState","useEffect","createRef","FORM_STORE","FormRow","styled","S","Table","table","Header","thead","NewRow","div","Cell","td","Error","p","Row","tr","tableContext","createContext","body","headers","extra","cellMap","formSchema","useTableContext","useContext","renderErrors","errors","length","some","el","map","err","i","header","heading","Body","row","view","setView","switchView","e","stopPropagation","toggle","span","children","colspan","padding"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, createRef} from \"react\";\nimport {FORM_STORE} from \"lib/stores\";\nimport FormRow from \"./FormRow\";\nimport styled from \"styled-components\";\n\nconst S = {};\nS.Table = styled.table`\nfont-size: var(--font-size-regular);\nborder-collapse: collapse;\nposition: relative;\nheight: max-content;\nwidth: max-content;\n`;\nS.Header = styled.thead`\n`;\nS.NewRow = styled.div`\nbox-sizing: content-box;\nwidth: min-content;\npadding: 5px 10px;\nmargin: auto;\ncursor: pointer;\nimg {\ndisplay: inline-block;\nwidth: 45px;\nheight: 45px;\n}\n`;\nS.Cell = styled.td`\nfont-size: var(--font-size-regular);\nletter-spacing: 0.5px;\npadding: 5px;\nborder: 2px solid white;\ntext-align: center;\nwidth: 100%;\nmin-width: 70px;\nheight: 100%;\n\n&:hover {\nbackground-color: white;\n}\n\n${S.Header} & {\npadding: 0 5px;\nbackground-color: initial;\nfont-size: var(--font-size-large);\ncolor: white;\ntext-transform: capitalize;\n}\n\n\n`;\nS.Error = styled.p`\nwidth: max-content;\nmargin: auto;\nfont-size: var(--font-size-2large);\ncolor: var(--color-error);\npadding: 5px 0;\nfont-weight: bold;\n`;\nS.Row = styled.tr`\nbackground-color: var(--color-grey-phosSilver-4);\n\n&:nth-of-type(even) {\nbackground-color: var(--color-grey-phosSilver-2);\n}\n\n&:hover {\nbackground-color: var(--color-primary);\n}\n\n${S.Header} & {\nbackground-color: var(--color-primary);\n}\n\n`;\n\nexport\nconst\ntableContext = React.createContext({\n  body: [],\n  headers: [],\n  extra: {},\n  cellMap: {},\n  formSchema: {},\n}),\nuseTableContext = () => React.useContext(tableContext),\nrenderErrors = (errors, length) => {\n  if (!errors.some(el => !!el)) return null;\n  return (\n    <Row>\n      <Cell colspan={length + 1}>\n        {errors.map((err, i) => err && <S.Error key={i}>{err}</S.Error>)}\n      </Cell>\n    </Row>\n  );\n},\nHeader = ({header}) => {\n  return (\n    <S.Header>\n      <Row>\n        {header.map((heading, i) => <Cell key={i}>{heading}</Cell>)}\n      </Row>\n    </S.Header>\n  );\n},\nBody = ({body}) => {\n  return (\n    <tbody>\n      <NewRow key={0}/>\n      {body.map((row, i) => <FormRow key={i + 1} data={row}/>)}\n    </tbody>\n  );\n},\nNewRow = () => {\n  const\n  {headers} = useTableContext(),\n  [view, setView] = useState(false);\n\n  function switchView(e) {\n    e && e.stopPropagation();\n    setView(!view);\n  }\n\n  if (view) return <FormRow notify={(toggle) => toggle === \"cancel\" && switchView()} edit/>;\n\n  return (\n    <Row span>\n      <S.NewRow>\n        <img onClick={switchView} src=\"/add_blue.png;\" alt=\"plus-icon\"/>\n      </S.NewRow>\n    </Row>\n  );\n},\nRow = ({span, children}) => {\n  const {headers} = useTableContext();\n\n  if (span) return (\n    <S.Row><Cell colspan={headers.length + 1}>{children}</Cell></S.Row>\n  );\n\n  return (<S.Row>{children}</S.Row>);\n},\nCell = ({colspan, padding, children}) => {\n  return (\n    <S.Cell padding={padding} colSpan={colspan || 1}>{children}</S.Cell>\n  );\n},\nTable = ({table}) => {\n  return (\n    <tableContext.Provider value={table}>\n        <S.Table>\n          <Header header={table.headers}/>\n          <Body body={table.body}/>\n        </S.Table>\n    </tableContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}