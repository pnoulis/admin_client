{"ast":null,"code":"import _slicedToArray from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import S from\"./Styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SliderCard=S.SliderCard;export{Slider,SliderCard};function Slider(_ref){var type=_ref.type,children=_ref.children;var container=useRef(null),slider=useRef(null),_useState=useState({}),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1],_useState3=useState({}),_useState4=_slicedToArray(_useState3,2),dimensions=_useState4[0],setDimensions=_useState4[1];useEffect(function(){if(typeof selected.id!==\"number\")container.current.scrollTop=0;},[selected]);useEffect(function(){if(Object.keys(dimensions).length)return;setDimensions(calculateDimensions(type,children.length,container,slider));},[dimensions]);return/*#__PURE__*/_jsx(S.Aside,{ref:container,height:dimensions.container,children:/*#__PURE__*/_jsxs(S.Nav,{ref:slider,minHeight:dimensions.slider,children:[children.map(function(c,i){return i===selected.id?null:/*#__PURE__*/_jsx(SliderNode,{id:i,setSelected:setSelected,children:c},i);}),typeof selected.id===\"number\"&&/*#__PURE__*/_jsx(SliderNode,{id:selected.id,setSelected:setSelected,selected:true,children:children[selected.id]},selected.id)]})});}function SliderNode(_ref2){var id=_ref2.id,setSelected=_ref2.setSelected,selected=_ref2.selected,children=_ref2.children;var node=useRef(null);useEffect(function(){selected&&node.current.scrollIntoView();},[selected]);return/*#__PURE__*/_jsx(\"div\",{ref:node,onClick:function onClick(){return selected?setSelected({}):setSelected({id:id});},children:selected?/*#__PURE__*/React.cloneElement(children,{selected:selected}):children});}function calculateDimensions(type,sliderChildren,container,slider){var containerXY=0,sliderXY=0,browserXY=0,diff=0;containerXY=type===\"vertical\"?container.current.offsetHeight:container.current.offsetWidth;sliderXY=type===\"vertical\"?slider.current.offsetHeight:container.current.offsetWidth;browserXY=type===\"vertical\"?document.documentElement.clientHeight:document.documentElement.clientWidth;diff=containerXY-sliderXY;if(!diff)diff=sliderXY-browserXY;// diff ||= sliderXY - browserXY;\nreturn{container:browserXY-(browserXY-containerXY),slider:containerXY*2-diff-Math.round(sliderXY/sliderChildren),calculated:true};}function useSlider(type,sliderChildren,container,slider){var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),dimensions=_useState6[0],setDimensions=_useState6[1];if(!container.current||!slider.current||dimensions.calculated)return dimensions;var containerXY=0,sliderXY=0,browserXY=0,diff=0;containerXY=type===\"vertical\"?container.current.offsetHeight:container.current.offsetWidth;sliderXY=type===\"vertical\"?slider.current.offsetHeight:container.current.offsetWidth;browserXY=type===\"vertical\"?document.documentElement.clientHeight:document.documentElement.clientWidth;diff=containerXY-sliderXY;if(!diff)diff=sliderXY-browserXY;// diff ||= sliderXY - browserXY;\nsetDimensions({container:browserXY-(browserXY-containerXY),slider:containerXY*2-diff-Math.round(sliderXY/sliderChildren),calculated:true});return dimensions;}","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Slider/Slider.jsx"],"names":["React","useState","useEffect","useRef","S","SliderCard","Slider","type","children","container","slider","selected","setSelected","dimensions","setDimensions","id","current","scrollTop","Object","keys","length","calculateDimensions","map","c","i","SliderNode","node","scrollIntoView","cloneElement","sliderChildren","containerXY","sliderXY","browserXY","diff","offsetHeight","offsetWidth","document","documentElement","clientHeight","clientWidth","Math","round","calculated","useSlider"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\nimport S from \"./Styles\";\n\nconst SliderCard = S.SliderCard;\nexport {Slider, SliderCard};\n\nfunction Slider({type, children}) {\n  const\n  container = useRef(null),\n  slider = useRef(null),\n  [selected, setSelected] = useState({}),\n  [dimensions, setDimensions] = useState({});\n\n  useEffect(() => {\n    if (typeof selected.id !== \"number\") container.current.scrollTop = 0;\n  }, [selected]);\n\n  useEffect(() => {\n    if (Object.keys(dimensions).length) return;\n    setDimensions(calculateDimensions(type, children.length, container, slider));\n  }, [dimensions]);\n\n  return (\n      <S.Aside ref={container} height={dimensions.container}>\n        <S.Nav ref={slider} minHeight={dimensions.slider}>\n          {\n            children.map((c, i) => (\n              i === selected.id ? null :\n                <SliderNode key={i} id={i} setSelected={setSelected}>\n                  {c}\n                </SliderNode>\n            ))\n          }\n          {\n            typeof selected.id === \"number\" &&\n              <SliderNode key={selected.id} id={selected.id} setSelected={setSelected} selected>\n                {children[selected.id]}\n              </SliderNode>\n          }\n        </S.Nav>\n      </S.Aside>\n  );\n}\n\nfunction SliderNode({id, setSelected, selected, children}) {\n  const node = useRef(null);\n\n  useEffect(() => {\n    selected && node.current.scrollIntoView();\n  }, [selected]);\n\n  return (\n    <div ref={node}\n         onClick={() => selected ? setSelected({}) : setSelected({id})}\n    >{selected ? React.cloneElement(children, {selected}) : children}\n    </div>\n  );\n}\nfunction calculateDimensions(type, sliderChildren, container, slider) {\n  let containerXY = 0, sliderXY = 0, browserXY = 0, diff = 0;\n\n  containerXY = type === \"vertical\" ? container.current.offsetHeight :\n    container.current.offsetWidth;\n\n  sliderXY = type === \"vertical\" ? slider.current.offsetHeight :\n    container.current.offsetWidth;\n\n  browserXY = type === \"vertical\" ? document.documentElement.clientHeight :\n    document.documentElement.clientWidth;\n\n  diff = containerXY - sliderXY;\n  if (!diff) diff = sliderXY - browserXY;\n  // diff ||= sliderXY - browserXY;\n\n  return {\n    container: browserXY - (browserXY - containerXY),\n    slider: containerXY * 2 - diff - Math.round(sliderXY / sliderChildren),\n    calculated: true,\n  };\n}\nfunction useSlider(type, sliderChildren, container, slider) {\n  const [dimensions, setDimensions] = useState({});\n\n  if (!container.current || !slider.current || dimensions.calculated) return dimensions;\n  let containerXY = 0, sliderXY = 0, browserXY = 0, diff = 0;\n\n  containerXY = type === \"vertical\" ? container.current.offsetHeight :\n    container.current.offsetWidth;\n\n  sliderXY = type === \"vertical\" ? slider.current.offsetHeight :\n    container.current.offsetWidth;\n\n  browserXY = type === \"vertical\" ? document.documentElement.clientHeight :\n    document.documentElement.clientWidth;\n\n  diff = containerXY - sliderXY;\n  if (!diff) diff = sliderXY - browserXY;\n  // diff ||= sliderXY - browserXY;\n\n  setDimensions({\n    container: browserXY - (browserXY - containerXY),\n    slider: containerXY * 2 - diff - Math.round(sliderXY / sliderChildren),\n    calculated: true,\n  });\n\n  return dimensions;\n}\n"]},"metadata":{},"sourceType":"module"}