{"ast":null,"code":"var _jsxFileName = \"/home/pavlos/Office/projects/new/admin-client/src/components/Fields/FlexibleFields.jsx\",\n    _s = $RefreshSig$();\n\nimport { decode } from \"html-entities\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { FORM_STORE } from \"lib/stores\";\nimport { useStyle, useFocus } from \"lib/hooks\";\nconst {\n  useFormContext\n} = FORM_STORE;\nimport style from \"./styles/flexibleField_0.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function FlexibleField_0({\n  name,\n  disabled\n}) {\n  _s();\n\n  const {\n    fields,\n    edit,\n    setForm\n  } = useFormContext(),\n        thisRef = useRef();\n\n  function handleInput(e) {\n    setForm(\"setInput\", name, decode(e.target.innerHTML));\n  }\n\n  useEffect(() => {\n    if (disabled) return;\n    const selection = window.getSelection();\n    if (!fields[name]) selection.collapse(thisRef.current, 0);else selection.collapse(thisRef.current, 1);\n  }, [fields[name]]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.textField,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      ref: thisRef,\n      className: style.editable,\n      contentEditable: disabled ? false : edit,\n      onInput: handleInput,\n      dangerouslySetInnerHTML: {\n        __html: fields[name]\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FlexibleField_0, \"3yxE3jBvn0/XHAiEVC0X3M2EswY=\", false, function () {\n  return [useFormContext];\n});\n\n_c = FlexibleField_0;\n\nvar _c;\n\n$RefreshReg$(_c, \"FlexibleField_0\");","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Fields/FlexibleFields.jsx"],"names":["decode","useRef","useEffect","useState","FORM_STORE","useStyle","useFocus","useFormContext","style","FlexibleField_0","name","disabled","fields","edit","setForm","thisRef","handleInput","e","target","innerHTML","selection","window","getSelection","collapse","current","textField","editable","__html"],"mappings":";;;AAAA,SAAQA,MAAR,QAAqB,eAArB;AACA,SAAQC,MAAR,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAAQC,UAAR,QAAyB,YAAzB;AACA,SAAQC,QAAR,EAAkBC,QAAlB,QAAiC,WAAjC;AACA,MAAM;AAACC,EAAAA;AAAD,IAAmBH,UAAzB;AACA,OAAOI,KAAP,MAAkB,sCAAlB;;AAGA,OAAO,SAASC,eAAT,CAAyB;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAzB,EAA2C;AAAA;;AAChD,QACA;AAACC,IAAAA,MAAD;AAASC,IAAAA,IAAT;AAAeC,IAAAA;AAAf,MAA0BP,cAAc,EADxC;AAAA,QAEAQ,OAAO,GAAGd,MAAM,EAFhB;;AAIA,WAASe,WAAT,CAAqBC,CAArB,EAAwB;AACtBH,IAAAA,OAAO,CAAC,UAAD,EAAaJ,IAAb,EAAmBV,MAAM,CAACiB,CAAC,CAACC,MAAF,CAASC,SAAV,CAAzB,CAAP;AACD;;AAEDjB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,QAAJ,EAAc;AACd,UAAMS,SAAS,GAAGC,MAAM,CAACC,YAAP,EAAlB;AACA,QAAI,CAACV,MAAM,CAACF,IAAD,CAAX,EAAmBU,SAAS,CAACG,QAAV,CAAmBR,OAAO,CAACS,OAA3B,EAAoC,CAApC,EAAnB,KACKJ,SAAS,CAACG,QAAV,CAAmBR,OAAO,CAACS,OAA3B,EAAoC,CAApC;AACN,GALQ,EAKN,CAACZ,MAAM,CAACF,IAAD,CAAP,CALM,CAAT;AAOA,sBACE;AAAK,IAAA,SAAS,EAAEF,KAAK,CAACiB,SAAtB;AAAA,2BACE;AACE,MAAA,GAAG,EAAEV,OADP;AAEE,MAAA,SAAS,EAAEP,KAAK,CAACkB,QAFnB;AAGE,MAAA,eAAe,EAAEf,QAAQ,GAAG,KAAH,GAAWE,IAHtC;AAIE,MAAA,OAAO,EAAEG,WAJX;AAKE,MAAA,uBAAuB,EAAE;AAACW,QAAAA,MAAM,EAAEf,MAAM,CAACF,IAAD;AAAf;AAL3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD;;GA5BeD,e;UAEYF,c;;;KAFZE,e","sourcesContent":["import {decode} from \"html-entities\";\nimport {useRef, useEffect, useState} from \"react\";\nimport {FORM_STORE} from \"lib/stores\";\nimport {useStyle, useFocus} from \"lib/hooks\";\nconst {useFormContext} = FORM_STORE;\nimport style from \"./styles/flexibleField_0.module.scss\";\n\n\nexport function FlexibleField_0({name, disabled}) {\n  const\n  {fields, edit, setForm} = useFormContext(),\n  thisRef = useRef();\n\n  function handleInput(e) {\n    setForm(\"setInput\", name, decode(e.target.innerHTML));\n  }\n\n  useEffect(() => {\n    if (disabled) return;\n    const selection = window.getSelection();\n    if (!fields[name]) selection.collapse(thisRef.current, 0);\n    else selection.collapse(thisRef.current, 1);\n  }, [fields[name]]);\n\n  return (\n    <div className={style.textField}>\n      <span\n        ref={thisRef}\n        className={style.editable}\n        contentEditable={disabled ? false : edit}\n        onInput={handleInput}\n        dangerouslySetInnerHTML={{__html: fields[name]}}\n      >\n      </span>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}