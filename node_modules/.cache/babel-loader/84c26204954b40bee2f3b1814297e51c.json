{"ast":null,"code":"var _jsxFileName = \"/home/pavlos/Office/projects/new/admin-client/src/components/Fields/Image.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, createRef } from \"react\";\nimport { FORM_STORE } from \"lib/stores\";\nimport { Resizable } from \"re-resizable\";\nimport style from \"./styles/imgfield.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  useFormContext\n} = FORM_STORE,\n      mime = [\"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\", \"image/svg+xml\", \"image/tiff\", \"image/bmp\"],\n      mimeAccept = mime.reduce((acc, cur) => acc.concat(\",\", cur));\nexport function ImageField() {\n  _s();\n\n  const {\n    fields,\n    edit,\n    setForm\n  } = useFormContext(),\n        img = fields.img;\n  if (fields.img instanceof File) return /*#__PURE__*/_jsxDEV(UploadedImage, {\n    fields: fields,\n    edit: edit,\n    setForm: setForm,\n    img: img\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);else if (!Object.keys(img).length) return /*#__PURE__*/_jsxDEV(UploadImage, {\n    fields: fields,\n    edit: edit,\n    setForm: setForm,\n    img: img\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);else return /*#__PURE__*/_jsxDEV(ViewImage, {\n    edit: edit,\n    setForm: setForm,\n    img: img\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ImageField, \"ZTpOrLhYueECqGFpTCmm2msaf9U=\", false, function () {\n  return [useFormContext];\n});\n\n_c = ImageField;\n\nfunction UploadedImage({\n  fields,\n  edit,\n  setForm,\n  img\n}) {\n  function handleCancel(e) {\n    e.preventDefault();\n    setForm(\"setInput\", \"img\", {});\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.imageUploaded,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: fields.img.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: handleCancel,\n      children: \"cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = UploadedImage;\n\nfunction UploadImage({\n  edit,\n  setForm\n}) {\n  const id = (Math.random() + 1).toString(36).substring(7);\n\n  function handleUpload(e) {\n    e.preventDefault();\n    if (!edit) return;\n    setForm(\"setInput\", \"img\", e.target.files.item(0));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.uploadImage,\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.inputWrapper,\n      htmlFor: id,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: id,\n        name: \"img\",\n        accept: mimeAccept,\n        onChange: handleUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = UploadImage;\n\nfunction ViewImage({\n  fields,\n  edit,\n  setForm,\n  img\n}) {\n  const imgStyle = {\n    display: \"inline-block\",\n    objectFit: \"cover\",\n    width: \"100%\",\n    height: \"100%\"\n  };\n\n  function handleChange(e) {\n    e.preventDefault();\n    if (!edit) return;\n    setForm(\"setInput\", \"img\", {});\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.viewImage,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: handleChange,\n      children: \"change\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), img && /*#__PURE__*/_jsxDEV(Resizable, {\n      children: [\"style=\", {\n        margin: \"auto\"\n      }, \"minHeight=\", 80, \"width=\", \"100%\", \"height=\", \"100%\", \"minWidth=\", 90, \"maxWidth=\", 300, \"maxHeight=\", 300, \"defaultSize=\", {\n        width: 90,\n        height: 80\n      }, \">\", /*#__PURE__*/_jsxDEV(\"img\", {\n        style: imgStyle,\n        src: img.large.path\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = ViewImage;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ImageField\");\n$RefreshReg$(_c2, \"UploadedImage\");\n$RefreshReg$(_c3, \"UploadImage\");\n$RefreshReg$(_c4, \"ViewImage\");","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/components/Fields/Image.jsx"],"names":["useEffect","useState","createRef","FORM_STORE","Resizable","style","useFormContext","mime","mimeAccept","reduce","acc","cur","concat","ImageField","fields","edit","setForm","img","File","Object","keys","length","UploadedImage","handleCancel","e","preventDefault","imageUploaded","name","UploadImage","id","Math","random","toString","substring","handleUpload","target","files","item","uploadImage","inputWrapper","ViewImage","imgStyle","display","objectFit","width","height","handleChange","viewImage","margin","large","path"],"mappings":"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","sourcesContent":["import {useEffect, useState, createRef} from \"react\";\nimport {FORM_STORE} from \"lib/stores\";\nimport {Resizable} from \"re-resizable\";\nimport style from \"./styles/imgfield.module.scss\";\n\nconst\n{useFormContext} = FORM_STORE,\nmime = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/gif\",\n  \"image/webp\",\n  \"image/svg+xml\",\n  \"image/tiff\",\n  \"image/bmp\",\n],\nmimeAccept = mime.reduce((acc, cur) => acc.concat(\",\", cur));\n\nexport function ImageField() {\n  const {fields, edit, setForm} = useFormContext(),\n        img = fields.img;\n\n  if (fields.img instanceof File) return (\n    <UploadedImage fields={fields} edit={edit} setForm={setForm} img={img}/>\n  ); else if (!Object.keys(img).length) return (\n    <UploadImage fields={fields} edit={edit} setForm={setForm} img={img}/>\n  ); else return (\n    <ViewImage edit={edit} setForm={setForm} img={img}/>\n  );\n}\n\nfunction UploadedImage({fields, edit, setForm, img}) {\n\n  function handleCancel(e) {\n    e.preventDefault();\n    setForm(\"setInput\", \"img\", {});\n  }\n  return (\n    <div className={style.imageUploaded}>\n      <p>{fields.img.name}</p>\n      <p onClick={handleCancel}>cancel</p>\n    </div>\n  );\n}\nfunction UploadImage({edit, setForm}) {\n  const id = (Math.random() + 1).toString(36).substring(7);\n\n  function handleUpload(e) {\n    e.preventDefault();\n    if (!edit) return;\n    setForm(\"setInput\", \"img\", e.target.files.item(0));\n  }\n\n  return (\n    <div className={style.uploadImage}>\n      <label className={style.inputWrapper} htmlFor={id}>\n        <span>upload</span>\n        <input type=\"file\"\n               id={id}\n               name=\"img\"\n               accept={mimeAccept}\n               onChange={handleUpload}\n        />\n      </label>\n    </div>\n  );\n}\n\nfunction ViewImage({fields, edit, setForm, img}) {\n  const imgStyle = {\n    display: \"inline-block\",\n    objectFit: \"cover\",\n    width: \"100%\",\n    height: \"100%\",\n  };\n\n  function handleChange(e) {\n    e.preventDefault();\n    if (!edit) return;\n    setForm(\"setInput\", \"img\", {});\n  }\n\n  return (\n    <div className={style.viewImage}>\n      <p onClick={handleChange}>change</p>\n      {img && <Resizable>\n                style={{margin: \"auto\"}}\n                minHeight={80}\n                width={\"100%\"}\n                height={\"100%\"}\n                minWidth={90}\n                maxWidth={300}\n                maxHeight={300}\n                defaultSize={{width: 90, height: 80}}>\n                <img style={imgStyle} src={img.large.path}/>\n              </Resizable>}\n      {/* <Resizable */}\n      {/*   style={{margin: \"auto\"}} */}\n      {/*   minHeight={80} */}\n      {/*   width={\"100%\"} */}\n      {/*   height={\"100%\"} */}\n      {/*   minWidth={90} */}\n      {/*   maxWidth={300} */}\n      {/*   maxHeight={300} */}\n      {/*   defaultSize={{width: 90, height: 80}}> */}\n      {/*   <img style={imgStyle} src={img.large.path}/> */}\n      {/* </Resizable> */}\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}