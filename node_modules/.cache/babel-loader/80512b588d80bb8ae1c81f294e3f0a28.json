{"ast":null,"code":"var _jsxFileName = \"/home/pavlos/Office/projects/new/admin-client/src/lib/hooks/backend.js\",\n    _s = $RefreshSig$();\n\n// third party\nimport { useState, useEffect } from \"react\";\nimport ReactLoading from \"react-loading\"; // own - utilities\n\nimport backend from \"lib/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport { useBackend, renderStatus };\n/*\n  This hook requires multiple components and utilities to function\n */\n\nfunction Success({\n  userStyle\n}) {\n  const style = {\n    outer: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    imgContainer: {\n      width: \"50px\",\n      height: \"50px\",\n      ...userStyle\n    },\n    img: {\n      display: \"inline-block\",\n      width: \"100%\",\n      height: \"100%\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    style: style.outer,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: style.imgContainer,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        style: style.img,\n        src: \"/tick.png\",\n        alt: \"fetch-success-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Success;\n\nfunction Loading({\n  userStyle\n}) {\n  const style = {\n    outer: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    imgContainer: {\n      width: \"50px\",\n      height: \"50px\",\n      ...userStyle,\n      color: \"inherit\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    style: style.outer,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: style.imgContainer,\n      children: /*#__PURE__*/_jsxDEV(ReactLoading, {\n        type: \"spinningBubbles\",\n        color: userStyle.color || \"#1e90ff\",\n        height: \"100%\",\n        width: \"100%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = Loading;\n\nconst success = userStyle => /*#__PURE__*/_jsxDEV(Success, {\n  userStyle: userStyle\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 69,\n  columnNumber: 26\n}, this),\n      loading = userStyle => /*#__PURE__*/_jsxDEV(Loading, {\n  userStyle: userStyle || {}\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 70,\n  columnNumber: 26\n}, this),\n      requestStatus = (req, res, resetRequest) => {\n  if (!req) return null;else if (res) return success;else return loading;\n},\n      useBackend = () => {\n  _s();\n\n  const [req, setRequest] = useState(false),\n        [res, setResponse] = useState(false),\n        [payload, setPayload] = useState(null);\n  useEffect(() => {\n    if (!req) return;\n    setTimeout(async () => setResponse(await backend[req.method]({ ...req\n    })), 1500);\n  }, [req]);\n  useEffect(() => {\n    if (!res) return null;\n    setTimeout(() => setRequest(false), 1500); // if (!res.ok && res.err) return setTimeout(() => Router.push(res.payload.redirect), 2000);\n\n    setTimeout(() => setPayload(res), 1700);\n  }, [res]);\n  return {\n    setReq: req => setRequest(req),\n    status: requestStatus(req, res),\n    res: payload\n  };\n},\n      renderStatus = (status, ...args) => {\n  if (!status) return null;\n  return status.name === \"loading\" ? status(args[0] || {}) : status(args[1] || {});\n};\n\n_s(useBackend, \"SUozceh1CA00em2Q1OYX93Va0g4=\");\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Success\");\n$RefreshReg$(_c2, \"Loading\");","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/hooks/backend.js"],"names":["useState","useEffect","ReactLoading","backend","useBackend","renderStatus","Success","userStyle","style","outer","display","justifyContent","alignItems","imgContainer","width","height","img","Loading","color","success","loading","requestStatus","req","res","resetRequest","setRequest","setResponse","payload","setPayload","setTimeout","method","setReq","status","args","name"],"mappings":"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","sourcesContent":["// third party\nimport {useState, useEffect} from \"react\";\nimport ReactLoading from \"react-loading\";\n// own - utilities\nimport backend from \"lib/backend\";\n\nexport {useBackend, renderStatus};\n/*\n  This hook requires multiple components and utilities to function\n */\n\nfunction Success({userStyle}) {\n  const style = {\n    outer: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    imgContainer: {\n      width: \"50px\",\n      height: \"50px\",\n      ...userStyle,\n    },\n    img: {\n      display: \"inline-block\",\n      width: \"100%\",\n      height: \"100%\",\n    }\n  };\n  return (\n    <article style={style.outer}>\n      <p style={style.imgContainer}>\n        <img style={style.img} src=\"/tick.png\" alt=\"fetch-success-icon\"/>\n      </p>\n    </article>\n  );\n}\n\nfunction Loading({userStyle}) {\n  const style = {\n    outer: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    imgContainer: {\n      width: \"50px\",\n      height: \"50px\",\n      ...userStyle,\n      color: \"inherit\",\n    },\n  };\n\n  return (\n    <article style={style.outer}>\n      <div style={style.imgContainer}>\n        <ReactLoading\n          type=\"spinningBubbles\"\n          color={userStyle.color || \"#1e90ff\"}\n          height=\"100%\"\n          width=\"100%\"\n        />\n      </div>\n    </article>\n  );\n}\n\nconst\nsuccess = (userStyle) => <Success userStyle={userStyle}/>,\nloading = (userStyle) => <Loading userStyle={userStyle || {}}/>,\nrequestStatus = (req, res, resetRequest) => {\n  if (!req) return null;\n  else if (res) return success;\n  else return loading;\n},\nuseBackend = () => {\n  const\n  [req, setRequest] = useState(false),\n  [res, setResponse] = useState(false),\n  [payload, setPayload] = useState(null);\n\n  useEffect(() => {\n    if (!req) return;\n    setTimeout(async () => setResponse(await backend[req.method]({...req})), 1500);\n  }, [req]);\n\n  useEffect(() => {\n    if (!res) return null;\n    setTimeout(() => setRequest(false), 1500);\n    // if (!res.ok && res.err) return setTimeout(() => Router.push(res.payload.redirect), 2000);\n    setTimeout(() => setPayload(res), 1700);\n  }, [res]);\n\n  return {\n    setReq: (req) => setRequest(req),\n    status: requestStatus(req, res),\n    res: payload,\n  };\n},\nrenderStatus = (status, ...args) => {\n  if (!status) return null;\n  return (status.name === \"loading\") ?\n    status(args[0] || {}) :\n    status(args[1] || {});\n};\n"]},"metadata":{},"sourceType":"module"}