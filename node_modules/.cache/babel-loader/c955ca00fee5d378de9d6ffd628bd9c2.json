{"ast":null,"code":"import _slicedToArray from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useContext}from\"react\";import{FLASH_MESSAGE_STORE}from\"./flashMessages\";import{USER_STORE}from\"./user\";var ACTIONS=_objectSpread(_objectSpread(_objectSpread({},FLASH_MESSAGE_STORE.ACTIONS),USER_STORE.ACTIONS),{},{getSession:function getSession(session){return{type:\"GET_SESSION\",session:session};},forceRedraw:function forceRedraw(){return{type:\"FORCE_REDRAW\"};}}),REDUCER=function REDUCER(state,action){switch(action.type){case\"GET_SESSION\":return _objectSpread(_objectSpread({},state),{},{user:action.session,initialized:true});case\"FORCE_REDRAW\":return _objectSpread(_objectSpread({},state),{},{key:state.key+1});default:return _objectSpread(_objectSpread({},state),{},{flashMessages:FLASH_MESSAGE_STORE.REDUCER(state.flashMessages,action),user:USER_STORE.REDUCER(state.user,action)});}},APP_SCHEMA={// begins with:\nkey:0,flashMessages:[],user:{loggedIn:false// things that are added in the process are:\n//shoppingCart: {},\n//address: {},\n//token: {},\n}},useApp=function useApp(){var _useReducer=useReducer(REDUCER,APP_SCHEMA),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],proxy=function proxy(action){for(var _len=arguments.length,payload=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){payload[_key-1]=arguments[_key];}return dispatch(ACTIONS[action].apply(ACTIONS,payload));};return{app:state,setApp:proxy};},appContext=/*#__PURE__*/React.createContext({app:{},setApp:function setApp(){}}),useAppContext=function useAppContext(){return useContext(appContext);},APP_STORE={appContext:appContext,useAppContext:useAppContext,useApp:useApp};export{APP_STORE};","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/stores/app.js"],"names":["React","useReducer","useContext","FLASH_MESSAGE_STORE","USER_STORE","ACTIONS","getSession","session","type","forceRedraw","REDUCER","state","action","user","initialized","key","flashMessages","APP_SCHEMA","loggedIn","useApp","dispatch","proxy","payload","app","setApp","appContext","createContext","useAppContext","APP_STORE"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,UAA3B,KAA4C,OAA5C,CACA,OAAQC,mBAAR,KAAkC,iBAAlC,CACA,OAAQC,UAAR,KAAyB,QAAzB,CAEA,GACAC,CAAAA,OAAO,8CACFF,mBAAmB,CAACE,OADlB,EAEFD,UAAU,CAACC,OAFT,MAGLC,UAAU,CAAE,oBAACC,OAAD,CAAa,CAAC,MAAO,CAACC,IAAI,CAAE,aAAP,CAAsBD,OAAO,CAAPA,OAAtB,CAAP,CAAuC,CAH5D,CAILE,WAAW,CAAE,sBAAM,CAAC,MAAO,CAACD,IAAI,CAAE,cAAP,CAAP,CAA+B,CAJ9C,EADP,CAOAE,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC3B,OAAQA,MAAM,CAACJ,IAAf,EACA,IAAK,aAAL,CACE,sCAAWG,KAAX,MAAkBE,IAAI,CAAED,MAAM,CAACL,OAA/B,CAAwCO,WAAW,CAAE,IAArD,GACF,IAAK,cAAL,CACE,sCAAWH,KAAX,MAAkBI,GAAG,CAAEJ,KAAK,CAACI,GAAN,CAAY,CAAnC,GACF,QACE,sCACKJ,KADL,MAEEK,aAAa,CAAEb,mBAAmB,CAACO,OAApB,CAA4BC,KAAK,CAACK,aAAlC,CAAiDJ,MAAjD,CAFjB,CAGEC,IAAI,CAAET,UAAU,CAACM,OAAX,CAAmBC,KAAK,CAACE,IAAzB,CAA+BD,MAA/B,CAHR,GANF,CAYD,CApBD,CAqBAK,UAAU,CAAG,CACX;AACAF,GAAG,CAAE,CAFM,CAGXC,aAAa,CAAE,EAHJ,CAIXH,IAAI,CAAE,CACJK,QAAQ,CAAE,KACV;AACA;AACA;AACA;AALI,CAJK,CArBb,CAiCAC,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACb,gBACoBlB,UAAU,CAACS,OAAD,CAAUO,UAAV,CAD9B,4CACCN,KADD,iBACQS,QADR,iBAEAC,KAFA,CAEQ,QAARA,CAAAA,KAAQ,CAACT,MAAD,gCAAYU,OAAZ,qDAAYA,OAAZ,gCAAwBF,CAAAA,QAAQ,CAACf,OAAO,CAACO,MAAD,CAAP,OAAAP,OAAO,CAAYiB,OAAZ,CAAR,CAAhC,EAFR,CAGA,MAAO,CAACC,GAAG,CAAEZ,KAAN,CAAaa,MAAM,CAAEH,KAArB,CAAP,CACD,CAtCD,CAuCAI,UAAU,cAAGzB,KAAK,CAAC0B,aAAN,CAAoB,CAC/BH,GAAG,CAAE,EAD0B,CAE/BC,MAAM,CAAE,iBAAM,CAAE,CAFe,CAApB,CAvCb,CA2CAG,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAMzB,CAAAA,UAAU,CAACuB,UAAD,CAAhB,EA3ChB,CA4CAG,SAAS,CAAG,CACVH,UAAU,CAAVA,UADU,CAEVE,aAAa,CAAbA,aAFU,CAGVR,MAAM,CAANA,MAHU,CA5CZ,CAiDA,OAAQS,SAAR","sourcesContent":["import React, {useReducer, useContext} from \"react\";\nimport {FLASH_MESSAGE_STORE} from \"./flashMessages\";\nimport {USER_STORE} from \"./user\";\n\nconst\nACTIONS = {\n  ...FLASH_MESSAGE_STORE.ACTIONS,\n  ...USER_STORE.ACTIONS,\n  getSession: (session) => {return {type: \"GET_SESSION\", session};},\n  forceRedraw: () => {return {type: \"FORCE_REDRAW\"};},\n},\nREDUCER = (state, action) => {\n  switch (action.type) {\n  case \"GET_SESSION\":\n    return {...state, user: action.session, initialized: true};\n  case \"FORCE_REDRAW\":\n    return {...state, key: state.key + 1};\n  default:\n    return {\n      ...state,\n      flashMessages: FLASH_MESSAGE_STORE.REDUCER(state.flashMessages, action),\n      user: USER_STORE.REDUCER(state.user, action)\n    };\n  }\n},\nAPP_SCHEMA = {\n  // begins with:\n  key: 0,\n  flashMessages: [],\n  user: {\n    loggedIn: false,\n    // things that are added in the process are:\n    //shoppingCart: {},\n    //address: {},\n    //token: {},\n  },\n},\nuseApp = () => {\n  const\n  [state, dispatch] = useReducer(REDUCER, APP_SCHEMA),\n  proxy = (action, ...payload) => dispatch(ACTIONS[action](...payload));\n  return {app: state, setApp: proxy};\n},\nappContext = React.createContext({\n  app: {},\n  setApp: () => {},\n}),\nuseAppContext = () => useContext(appContext),\nAPP_STORE = {\n  appContext,\n  useAppContext,\n  useApp,\n};\nexport {APP_STORE};\n"]},"metadata":{},"sourceType":"module"}