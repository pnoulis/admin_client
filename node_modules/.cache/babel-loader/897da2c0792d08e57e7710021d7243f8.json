{"ast":null,"code":"import _slicedToArray from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/pavlos/Office/projects/new/admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useReducer,useContext}from\"react\";import{reduceFields,reduceFieldErrors}from\"lib/input\";var ACTIONS={setErrors:function setErrors(fieldErrors){return{type:\"SET_ERRORS\",fieldErrors:fieldErrors};},setInput:function setInput(name,value){return{type:\"SET_INPUT\",name:name,value:value};},toggle:function toggle(operation){return{type:\"TOGGLE\",operation:operation};},edit:function edit(toggle){return{type:\"EDIT\",toggle:toggle};},refreshForm:function refreshForm(initialState){return{type:\"REFRESH_FORM\",initialState:initialState};}},REDUCER=function REDUCER(state,action){switch(action.type){case\"SET_ERRORS\":return _objectSpread(_objectSpread({},state),{},{toggled:false,fieldErrors:action.fieldErrors,edit:true});case\"SET_INPUT\":return _objectSpread(_objectSpread({},state),{},{fields:reduceFields(state.fields,action.name,action.value),fieldErrors:reduceFieldErrors(state.fieldErrors,action.name,action.value)});case\"TOGGLE\":return _objectSpread(_objectSpread({},state),{},{toggled:action.operation});case\"EDIT\":return _objectSpread(_objectSpread({},state),{},{toggled:action.toggle,edit:action.toggle});case\"REFRESH_FORM\":return action.initialState;default:return state;}},useForm=function useForm(initialState){var _useReducer=useReducer(REDUCER,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],proxy=function proxy(action){for(var _len=arguments.length,payload=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){payload[_key-1]=arguments[_key];}return dispatch(ACTIONS[action].apply(ACTIONS,payload.concat([initialState])));};return{form:state,setForm:proxy};},formContext=/*#__PURE__*/React.createContext({form:{},setForm:function setForm(){}}),useFormContext=function useFormContext(){return useContext(formContext);},FORM_STORE={formContext:formContext,useFormContext:useFormContext,useForm:useForm};export{FORM_STORE};","map":{"version":3,"sources":["/home/pavlos/Office/projects/new/admin-client/src/lib/stores/forms.js"],"names":["React","useReducer","useContext","reduceFields","reduceFieldErrors","ACTIONS","setErrors","fieldErrors","type","setInput","name","value","toggle","operation","edit","refreshForm","initialState","REDUCER","state","action","toggled","fields","useForm","dispatch","proxy","payload","form","setForm","formContext","createContext","useFormContext","FORM_STORE"],"mappings":"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","sourcesContent":["import React, {useReducer, useContext} from \"react\";\nimport {reduceFields, reduceFieldErrors} from \"lib/input\";\n\nconst\nACTIONS = {\n  setErrors: (fieldErrors) => {return {type: \"SET_ERRORS\", fieldErrors};},\n  setInput: (name, value) => {return {type: \"SET_INPUT\", name, value};},\n  toggle: (operation) => {return {type: \"TOGGLE\", operation};},\n  edit: (toggle) => {return {type: \"EDIT\", toggle};},\n  refreshForm: (initialState) => {return {type: \"REFRESH_FORM\", initialState};},\n},\nREDUCER = (state, action) => {\n  switch (action.type) {\n  case \"SET_ERRORS\":\n    return {...state, toggled: false, fieldErrors: action.fieldErrors, edit: true};\n  case \"SET_INPUT\":\n    return {\n      ...state,\n      fields: reduceFields(state.fields, action.name, action.value),\n      fieldErrors: reduceFieldErrors(state.fieldErrors, action.name, action.value),\n    };\n  case \"TOGGLE\":\n    return {...state, toggled: action.operation};\n  case \"EDIT\":\n    return {...state, toggled: action.toggle, edit: action.toggle};\n  case \"REFRESH_FORM\":\n    return action.initialState;\n  default:\n    return state;\n  }\n},\nuseForm = (initialState) => {\n  const\n  [state, dispatch] = useReducer(REDUCER, initialState),\n  proxy = (action, ...payload) => dispatch(ACTIONS[action](...payload, initialState));\n  return {form: state, setForm: proxy};\n},\nformContext = React.createContext({\n  form: {},\n  setForm: () => {},\n}),\nuseFormContext = () => useContext(formContext),\nFORM_STORE = {\n  formContext,\n  useFormContext,\n  useForm,\n};\nexport {FORM_STORE};\n"]},"metadata":{},"sourceType":"module"}